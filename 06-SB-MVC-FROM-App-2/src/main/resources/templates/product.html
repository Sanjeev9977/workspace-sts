<!doctype html> 
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <title>Hello, world!</title>
  </head>
  <body>
	<div class="container">
    <h1>Product Form</h1>
	  <form  th:object="${productObj}"  th:action="@{/product}" method="post" >
		<table>
			<tr ><input type="hidden" th:value="${productObj.id}" name="id" /></td></tr>	
		<tr ><td>Product Name</td></tr><tr><td><input th:field="*{name}" type="text" autocomplete="off" class="form-control"  required></td></tr>
		<tr><td>Product Price</td></tr><tr><td><input type="text" th:field="*{price}" autocomplete="off" class="form-control" oninput="this.value=this.value.replace(/[^0-9]/g,'')" required></td></tr>
		<tr><td>Product Quantity</td></tdProduct></tr><td><input type="text" th:field="*{quantity}" autocomplete="off" class="form-control"  oninput="this.value=this.value.replace(/[^0-9]/g,'')" required></td></tr>
		<tr><td><input type="submit" value="Submit" class="btn btn-primary"></td></tr></table>
		
	</form>
	<p th:text="${msg}"></p>
	 
	<a href="/products" class="btn btn-secondary mt-3">View All Products</a>

</div>

<!-- JavaScript to warn about unsaved changes -->
    <script>
        window.onbeforeunload = function () {
            return "You have unsaved changes. Are you sure you want to leave this page?";
        };

        // Disable the warning if the user saves the form
        document.querySelector('form').addEventListener('submit', function () {
            window.onbeforeunload = null;
        });
    </script>
     
  </body>
 
</html>